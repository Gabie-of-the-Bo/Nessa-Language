import * from iterators;
import * from range;

let map_arr = arr<Int>().map((i: &&Int) i * i).map((i: Int) i - 1);
let map_rng = range(0, 10).map((i: Int) i * i).map((i: Int) i - 1);
let cpy = *map_rng;

for i in *map_arr {
    println(*i);
}

for i in *map_rng {
    println(*i);
}

let a = next(cpy);
let b = next(cpy);
let c = next(cpy);
let d = next(cpy);
let e = next(cpy);

if a != -1 || b != 0 || c != 3 || d != 8 || e != 15 {
    panic("Invalid iterator value!");
}